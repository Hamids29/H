Platform Total Procedures :=
VAR CurrPlat =
    SELECTEDVALUE( Platform[platform] )  -- Hips, Knees, Shoulders
RETURN
SUMX(
    FILTER(
        ALL( Procedure ),   -- remove visual-level filters that hide rows
        Procedure[column 0] = CurrPlat
            ||
        (
            Procedure[column 0] = "LPS"
            && CONTAINSSTRING( Procedure[column 6], CurrPlat )
        )
    ),
    Procedure[procedure_qty]
)
